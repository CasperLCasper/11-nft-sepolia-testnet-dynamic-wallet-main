<!DOCTYPE html>
<html lang="lv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dynamic Wallet Visualizer — Sepolia NFT Access</title>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

  <style>
    body { font-family:'Inter',Arial,sans-serif; background:#000; color:#fff; margin:0; padding:20px; position: relative; }
    .container { max-width:1400px; margin:auto; display:flex; flex-direction:column; align-items:center; gap:12px; }
    h1 { font-size:36px; margin:0; line-height:1; background:linear-gradient(90deg,#ffffff,#aaaaaa); -webkit-background-clip:text; -webkit-text-fill-color:transparent; text-align:center; }
    .subtitle { margin-top:4px; color:#9fb0c3; font-size:18px; text-align:center; }
    .controls { display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }
    button { padding:12px 20px; border-radius:12px; border:none; cursor:pointer; background:linear-gradient(90deg,#4a90e2,#9013fe); color:#fff; font-weight:700; font-size:16px; box-shadow:0 6px 18px rgba(0,0,0,0.45); transition: transform 0.2s, box-shadow 0.2s; }
    button:disabled { background:#444; cursor:not-allowed; box-shadow:0 6px 18px rgba(0,0,0,0.2); }
    button:hover:not(:disabled) { transform:translateY(-4px) scale(1.03); box-shadow:0 8px 22px rgba(0,0,0,0.65); }
    .snapshot-container { width:100%; background:#000; border-radius:14px; padding:18px; box-shadow:0 12px 40px rgba(0,0,0,0.6); position:relative; }
    #snapshotCanvas { width:100%; border-radius:10px; border:1px solid rgba(255,255,255,0.03); display:block; margin-bottom:12px; }
    #recordTimer { margin-top:6px; color:#0ff; font-weight:600; font-size:16px; text-align:center; }
    #statusContainer { position: relative; width: 100%; height: 40px; margin-top: 8px; }
    .status { font-weight:600; font-size:16px; color:#fff; line-height:40px; text-align:center; }
    #progressBarContainer { position: absolute; top: 50%; left: 50%; width: 60%; height: 18px; background: rgba(255,255,255,0.1); border-radius: 6px; transform: translate(-50%, -50%); display: none; overflow: hidden; }
    #progressBar { height: 100%; width: 100%; background: linear-gradient(90deg,#0ff,#4a90e2); border-radius: 6px; transform: scaleX(0); transform-origin: left center; transition: transform 0.4s ease; }
    #overlay { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:999; }
    #recordDropdown { display:none; position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#111; border:2px solid #555; border-radius:12px; padding:80px 20px 20px 20px; z-index:1000; min-width:360px; box-shadow:0 8px 24px rgba(0,0,0,0.7); text-align:center; overflow-y:auto; }
    #recordDropdown button { width:100%; margin:16px 0; }
    #dropdownClose { position:absolute; top:10px; right:10px; cursor:pointer; font-size:28px; font-weight:bold; color:#fff; background:none; border:none; padding:0; line-height:1; }
    #fullscreenIcon { position:absolute; top:10px; right:10px; display:flex; align-items:center; cursor:pointer; color:#0ff; background:rgba(0,0,0,0.3); border-radius:6px; padding:6px 10px; transition: background 0.2s, transform 0.2s; z-index:10; user-select:none; }
    #fullscreenIcon:hover { background:rgba(0,255,255,0.2); transform: scale(1.05); }
    #fullscreenText { font-family:'Inter',Arial,sans-serif; white-space: nowrap; margin-left:6px; font-size:16px; font-weight:600; }
    #toggleInfoIcon { position:absolute; top:10px; left:10px; display:flex; align-items:center; cursor:pointer; color:#0ff; background:rgba(0,0,0,0.3); border-radius:6px; padding:6px 10px; transition: background 0.2s, transform 0.2s; z-index:10; user-select:none; }
    #toggleInfoIcon:hover { background:rgba(0,255,255,0.2); transform: scale(1.05); }
    #infoText { font-family:'Inter',Arial,sans-serif; white-space: nowrap; margin-left:6px; font-size:16px; font-weight:600; }
    #accountDisplay { width:100%; word-break:break-word; margin-top:8px; font-size:16px; text-align:center; }

    #tokenListContainer {
      display:none;
      position:absolute;
      top:80px;
      left:10px;
      max-height:150px;
      width:90%;
      max-width:576px;
      background:rgba(0,0,0,0.5);
      border-radius:9px;
      overflow-y:auto;
      padding:10px;
      color:#fff;
      font-family:'Inter',Arial,sans-serif;
      font-size:14px;
      z-index:15;
    }
    #tokenListContainer table { width:100%; border-collapse:collapse; }
    #tokenListContainer th, #tokenListContainer td { padding:6px 8px; text-align:left; font-size:13px; }
    #tokenListContainer th { color:#0ff; font-weight:600; }
    #tokenListContainer tr:nth-child(even) td { background:rgba(255,255,255,0.05); }
    #tokenListContainer tr:nth-child(odd) td { background:rgba(255,255,255,0.02); }
    #tokenListContainer::-webkit-scrollbar { width:6px; }
    #tokenListContainer::-webkit-scrollbar-thumb { background:#0ff; border-radius:3px; }
    #tokenListContainer::-webkit-scrollbar-track { background:#222; border-radius:3px; }

     .site-header {
    display: flex;
    align-items: center;
    gap: 20px;        /* atstarpe starp logo un tekstu */
  }

  .logo {
    position: absolute;
    top: 40px;   /* attālums no augšas */
    left: 80px;  /* attālums no kreisās */
    width: 90px;
}

  </style>
</head>

<body>
  <div class="container" role="main">
    <header class="site-header">

        <img 
            src="data:image/png;base64,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"
            alt="Logo"
            class="logo"
        >

        <div class="header-text">
            <h1>Dynamic Wallet Visualizer</h1>
            <p class="subtitle">Watch your Ethereum assets come alive — Sepolia NFT Access</p>
        </div>

    </header>

    <section class="controls" aria-label="Controls">
      <button id="connectBtn">Connect Wallet</button>
      <button id="renderBtn" disabled>Render Snapshot</button>
      <button id="recordBtn" disabled>Record 20s HD Video</button>
    </section>

    <div id="accountDisplay" aria-live="polite">Connected account: —</div>
    <div id="statusContainer" aria-hidden="false">
      <div id="statusMsg" class="status" role="status" aria-live="polite"></div>
      <div id="progressBarContainer" aria-hidden="true"><div id="progressBar"></div></div>
    </div>
    <div id="recordTimer" aria-live="polite">Recording: 0 / 20 s</div>

    <section class="snapshot-container" aria-label="Snapshot">
      <canvas id="snapshotCanvas" width="1920" height="1080" aria-label="Visualization canvas"></canvas>
      <div id="fullscreenIcon" role="button" tabindex="0" aria-label="Toggle fullscreen">⤢ <span id="fullscreenText">Fullscreen</span></div>
      <div id="toggleInfoIcon" role="button" tabindex="0" aria-label="Toggle info">ℹ <span id="infoText">Info</span></div>

      <div id="tokenListContainer" aria-hidden="true">
        <table>
          <thead><tr><th>Address</th><th>Balance</th></tr></thead>
          <tbody id="tokenListContent"></tbody>
        </table>
      </div>
    </section>
  </div>

  <div id="overlay" tabindex="-1"></div>

  <div id="recordDropdown" role="dialog" aria-modal="true" aria-hidden="true">
    <button id="dropdownClose" aria-label="Close">&times;</button>
    <button id="recordWithTokensBtn">Record video with token list</button>
    <button id="recordWithoutTokensBtn">Record video without token list</button>
  </div>

  <!-- External libs -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@6/dist/ethers.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>

  <script>
    // ===== Canvas setup =====
    const isMobile = /Mobi|Android/i.test(navigator.userAgent);
    const canvas = document.getElementById('snapshotCanvas');
    const ctx = canvas.getContext('2d');
    function resizeCanvas() {
      const dpr = window.devicePixelRatio || 1;
      const scale = isMobile ? 0.6 : 1;
      canvas.width = Math.round(1920*dpr*scale);
      canvas.height = Math.round(1080*dpr*scale);
      canvas.style.width = '100%';
      canvas.style.height = 'auto';
      ctx.setTransform(1,0,0,1,0,0);
      ctx.scale(dpr*scale, dpr*scale);
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    // ===== Variables =====
    const NFT_CONTRACT = "0x1EF02c3Ed33a98c10F0bf1fd71e4D226e8e408A5";
    const providerRpcUrl = "https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY";
    let provider, signer, account, wcProvider;
    let showInfo = true;
    let tokens=[], ethBalance=0, txCount=0, particles=[], initialParticles=[], animRequest=null;
    let walletSeed=0;

    const connectBtn = document.getElementById('connectBtn');
    const renderBtn = document.getElementById('renderBtn');
    const recordBtn = document.getElementById('recordBtn');
    const accountDisplay = document.getElementById('accountDisplay');
    const recordTimer = document.getElementById('recordTimer');
    const statusMsg = document.getElementById('statusMsg');
    const overlay = document.getElementById('overlay');
    const recordDropdown = document.getElementById('recordDropdown');
    const dropdownClose = document.getElementById('dropdownClose');
    const recordWithTokensBtn = document.getElementById('recordWithTokensBtn');
    const recordWithoutTokensBtn = document.getElementById('recordWithoutTokensBtn');
    const fullscreenIcon = document.getElementById('fullscreenIcon');
    const toggleInfoIcon = document.getElementById('toggleInfoIcon');
    const progressBarContainer = document.getElementById('progressBarContainer');
    const progressBar = document.getElementById('progressBar');
    const tokenListContainer = document.getElementById('tokenListContainer');
    const tokenListContent = document.getElementById('tokenListContent');

    // ===== Helpers =====
    function showProgressSmooth(){ progressBarContainer.style.display='block'; progressBar.style.transform='scaleX(0)'; }
    function hideProgressSmooth(){ progressBar.style.transform='scaleX(1)'; setTimeout(()=>{progressBarContainer.style.display='none'; progressBar.style.transform='scaleX(0)';},500); }
    function hashStringToInt(str,mod=1000){ let h=2166136261>>>0; for(let i=0;i<str.length;i++){h^=str.charCodeAt(i);h=Math.imul(h,16777619)>>>0;} return h%mod; }
    function seededRandomFloat(seedStr){ return hashStringToInt(seedStr,10000)/10000; }

    // ===== Particles =====
    async function initParticlesOnce(){
      initialParticles=[];
      const particleCount = Math.min(150,50+(tokens.length||0)*15);
      const seedBase = (account||'')+String(ethBalance)+String(txCount);
      for(let i=0;i<particleCount;i++){
        const t = tokens.length ? tokens[i%tokens.length] : {balance:1,address:String(i),symbol:'T'};
        const balanceFactor = t.isNFT ? 1 : Math.min(t.balance||0,20)/20;
        let hue = hashStringToInt((t.address||'')+seedBase+i)%360;
        const ethFactor = Math.min(ethBalance/10,1); hue=(hue+ethFactor*100)%360;
        const speed=0.005+0.01*(hashStringToInt((t.symbol||t.address)+seedBase+i,10)/10);
        const r=t.isNFT?10:2+6*balanceFactor;
        const angle=seededRandomFloat(seedBase+i+'angle')*2*Math.PI;
        const radius=50+seededRandomFloat(seedBase+i+'radius')*400;
        initialParticles.push({angle,radius,r,hue,speed,token:t});
      }
    }
    function cloneParticles(){ return initialParticles.map(p=>({...p})); }

    // ===== Draw frame =====
    function drawFrame(frame,showTokensFrame){
      const dpr = window.devicePixelRatio || 1;
      const scale = isMobile ? 0.6 : 1;
      const W = canvas.width/(dpr*scale);
      const H = canvas.height/(dpr*scale);
      ctx.clearRect(0,0,W,H);
      ctx.fillStyle='#000'; ctx.fillRect(0,0,W,H);
      const cx0=W/2, cy0=H/2;

      for(let i=0;i<particles.length;i++){
        for(let j=i+1;j<particles.length;j++){
          const p1=particles[i], p2=particles[j];
          const x1=cx0+Math.cos(p1.angle)*p1.radius;
          const y1=cy0+Math.sin(p1.angle)*p1.radius;
          const x2=cx0+Math.cos(p2.angle)*p2.radius;
          const y2=cy0+Math.sin(p2.angle)*p2.radius;
          const dx=x1-x2, dy=y1-y2;
          const dist=Math.sqrt(dx*dx+dy*dy);
          if(dist<120){
            const avgBalance=(Math.min(p1.token.balance,20)+Math.min(p2.token.balance,20))/40;
            const alpha=0.2+0.4*avgBalance*(1-dist/200);
            ctx.lineWidth=1.5+2*avgBalance;
            const txFactor=Math.log(txCount+1)/10;
            const hue=(p1.hue+p2.hue)/2+frame*0.4*txFactor;
            ctx.strokeStyle=`hsla(${hue},100%,70%,${alpha})`;
            ctx.beginPath(); ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke();
          }
        }
      }

      particles.forEach(p=>{
        p.angle+=p.speed;
        const cx=cx0+Math.cos(p.angle)*p.radius;
        const cy=cy0+Math.sin(p.angle)*p.radius;
        const gradient=ctx.createRadialGradient(cx,cy,0,cx,cy,p.r*2.5);
        gradient.addColorStop(0,`hsla(${p.hue},100%,70%,1)`);
        gradient.addColorStop(0.5,`hsla(${p.hue+20},100%,60%,0.9)`);
        gradient.addColorStop(1,`hsla(${p.hue+40},100%,40%,0.5)`);
        ctx.fillStyle=gradient; ctx.beginPath(); ctx.arc(cx,cy,p.r,0,Math.PI*2); ctx.fill();
      });

      if(showTokensFrame && showInfo){
        ctx.fillStyle='#0ff';
        ctx.font='22px Inter';
        ctx.fillText(`SepoliaETH: ${ethBalance.toFixed(4)}`,10,80);
      }
    }

    // ===== Token UI =====
    function updateTokenListUI() {
      if(!tokens || tokens.length===0){ tokenListContent.innerHTML='<tr><td colspan="2" style="color:#777;">No tokens</td></tr>'; return; }
      tokenListContent.innerHTML='';
      tokens.forEach(t=>{
        const tr=document.createElement('tr');
        const addrTd=document.createElement('td'); addrTd.textContent=t.address; addrTd.title=t.address;
        const balTd=document.createElement('td'); balTd.textContent=t.balance.toFixed(4);
        tr.appendChild(addrTd); tr.appendChild(balTd);
        tokenListContent.appendChild(tr);
      });
    }

    // ===== Wallet & NFT =====
    async function checkNFTAccess(){
      if(!account) return false;
      showProgressSmooth();
      try{
        const res=await fetch(`/api/getNFTs?account=${encodeURIComponent(account)}`);
        const data=await res.json();
        return data?.ownsNFT===true;
      }catch(err){ console.error(err); return false; }
      finally{ hideProgressSmooth(); }
    }

    async function getTokens(){
      if(!account) return [];
      showProgressSmooth();
      try{
        const res=await fetch(`/api/getTokens?account=${encodeURIComponent(account)}`);
        if(!res.ok){ statusMsg.textContent='Token API unavailable — fallback'; return []; }
        const data=await res.json();
        if(!data?.result?.tokenBalances) return [];
        return data.result.tokenBalances.map(t=>{
          const decimals=t.tokenDecimals!=null?Number(t.tokenDecimals):18;
          const balance=Number(ethers.formatUnits(t.tokenBalance||"0x0",decimals));
          const address=(t.tokenAddress||t.contractAddress||"").toLowerCase();
          return {address,balance,symbol:t.symbol||address};
        }).filter(t=>t.balance>0);
      }catch(e){ console.error(e); statusMsg.textContent='Failed fetching tokens'; return []; }
      finally{ hideProgressSmooth(); }
    }

    async function getAllNFTs(){
      if(!account) return [];
      showProgressSmooth();
      try{
        const res=await fetch(`/api/getAllNFTs?account=${encodeURIComponent(account)}`);
        if(!res.ok) return [];
        const data=await res.json();
        if(!data?.nfts) return [];
        return data.nfts.map(nft=>({
          address:nft.contract.address,
          symbol:nft.contract.symbol||'NFT',
          balance:1,
          isNFT:true,
          tokenId:nft.id.tokenId
        }));
      }catch(e){ console.error(e); return []; }
      finally{ hideProgressSmooth(); }
    }

    // ===== Connect Wallet =====
    async function connectWallet(){
      showProgressSmooth();
      try{
        if(window.ethereum){
          provider=new ethers.BrowserProvider(window.ethereum,"sepolia");
          await provider.send("eth_requestAccounts",[]);
          signer=await provider.getSigner();
          account=await signer.getAddress();
        } else {
          wcProvider=new WalletConnectProvider.default({ rpc:{11155111:providerRpcUrl} });
          await wcProvider.enable();
          provider=new ethers.BrowserProvider(wcProvider,"sepolia");
          signer=await provider.getSigner();
          account=await signer.getAddress();
        }

        accountDisplay.textContent='Connected account: '+account;
        walletSeed=hashStringToInt(account);

        const hasNFT = await checkNFTAccess();
        if(hasNFT){
          renderBtn.disabled=false;
          recordBtn.disabled=false;
          statusMsg.textContent='Wallet connected & NFT verified — access granted.';
        } else {
          renderBtn.disabled=true;
          recordBtn.disabled=true;
          statusMsg.textContent='NFT not found — access denied.';
          alert('Access denied — required NFT not found.');
        }

      }catch(err){
        console.error(err);
        statusMsg.textContent='Wallet connection failed.';
        alert('Wallet connection failed. Retry.');
      }finally{ hideProgressSmooth(); }
    }

    // ===== Render Snapshot =====
    async function renderSnapshot(){
      if(!account) await connectWallet();
      if(!provider || !account){ statusMsg.textContent='Wallet not connected.'; return; }

      stopAnimation();
      showProgressSmooth();
      progressBar.style.transform='scaleX(0)';
      statusMsg.textContent='';

      const steps=[
        {name:'Fetching ETH balance', func: async()=>{ ethBalance=Number(ethers.formatEther(await provider.getBalance(account)))||0; }},
        {name:'Fetching transaction count', func: async()=>{ txCount=Number(await provider.getTransactionCount(account))||0; }},
        {name:'Fetching tokens', func: async()=>{ tokens=[...await getTokens()]; }},
        {name:'Fetching NFTs', func: async()=>{ tokens=[...tokens,...await getAllNFTs()]; }},
        {name:'Initializing particles', func: async()=>{ await initParticlesOnce(); particles=cloneParticles(); }}
      ];

      let currentStep=0, totalSteps=steps.length;
      let visualProgress=0, running=true;

      function animateProgress(){
        if(!running) return;
        const targetProgress=currentStep/totalSteps;
        visualProgress+=(targetProgress-visualProgress)*0.05;
        progressBar.style.transform=`scaleX(${visualProgress})`;
        requestAnimationFrame(animateProgress);
      }
      requestAnimationFrame(animateProgress);

      try{
        for(const step of steps){
          statusMsg.textContent=step.name+'...';
          await step.func();
          currentStep++;
        }

        if(showInfo){ tokenListContainer.style.display='block'; updateTokenListUI(); }

        running=false; progressBar.style.transform='scaleX(1)'; statusMsg.textContent='Visualization running!';
        hideProgressSmooth();
        animate();
      }catch(e){ running=false; hideProgressSmooth(); console.error(e); statusMsg.textContent='Error rendering visualization.'; alert('Render failed. Check console.'); }
    }

    // ===== Animation =====
    function animate(frame=0){ drawFrame(frame,true); animRequest=requestAnimationFrame(()=>animate(frame+1)); }
    function stopAnimation(){ if(animRequest) cancelAnimationFrame(animRequest); animRequest=null; }

    // ===== Event Listeners =====
    connectBtn.addEventListener('click', connectWallet);
    renderBtn.addEventListener('click', renderSnapshot);
    fullscreenIcon.addEventListener('click', ()=>{ if(!document.fullscreenElement) canvas.requestFullscreen().catch(()=>{}); else document.exitFullscreen().catch(()=>{}); });
    toggleInfoIcon.addEventListener('click', ()=>{
      showInfo=!showInfo;
      document.getElementById('infoText').textContent=showInfo?'Info':'Hidden';
      tokenListContainer.style.display=showInfo?'block':'none';
      if(showInfo) updateTokenListUI();
    });

    // ===== Video Recording =====
    function pickSupportedMimeType(){
      const candidates=['video/webm;codecs=vp9','video/webm;codecs=vp8','video/webm','video/mp4'];
      for(const c of candidates){ try{ if(MediaRecorder.isTypeSupported && MediaRecorder.isTypeSupported(c)) return c; }catch(e){} }
      return '';
    }

    async function startRecording(includeTokens=false){
      if(startRecording._recording) return;
      startRecording._recording=true;
      const previousShowInfo=showInfo;
      showInfo=false;
      if(includeTokens){ tokenListContainer.style.display='block'; document.getElementById('infoText').textContent='Info'; }
      stopAnimation(); particles=cloneParticles(); drawFrame(0,true);
      statusMsg.textContent='Preparing recording...';
      recordBtn.disabled=true; renderBtn.disabled=true; connectBtn.disabled=true;
      showProgressSmooth(); if(!animRequest) animate();

      let stream; try{ stream=canvas.captureStream(30); }catch(err){ statusMsg.textContent='Recording not supported.'; cleanup(); return; }

      const mime=pickSupportedMimeType(); let recorder;
      try{ recorder=mime?new MediaRecorder(stream,{mimeType:mime}):new MediaRecorder(stream); }catch(err){ alert('MediaRecorder not available.'); cleanup(); return; }

      const chunks=[]; recorder.ondataavailable=(e)=>{ if(e.data&&e.data.size) chunks.push(e.data); };
      recorder.onerror=(ev)=>{ console.error(ev); statusMsg.textContent='Recording error.'; };
      recorder.onstart=()=>{ statusMsg.textContent='Recording...'; };
      recorder.start();

      const startTime=performance.now(), duration=20000;
      function updateProgress(timestamp){
        const elapsed=timestamp-startTime;
        const progress=Math.min(elapsed/duration,1);
        progressBar.style.transform=`scaleX(${progress})`;
        const seconds=Math.floor(elapsed/1000);
        recordTimer.textContent=`Recording: ${seconds} / 20 s`;
        if(elapsed<duration) requestAnimationFrame(updateProgress); else try{ recorder.stop(); }catch(e){}
      }
      requestAnimationFrame(updateProgress);

      recorder.onstop=()=>{
        const blob=new Blob(chunks,{type:chunks.length?chunks[0].type:'video/webm'});
        const url=URL.createObjectURL(blob);
        const a=document.createElement('a'); a.style.display='none'; a.href=url;
        const ext=blob.type.includes('mp4')?'mp4':'webm';
        a.download=`wallet_visualization.${ext}`; document.body.appendChild(a); a.click();
        setTimeout(()=>{document.body.removeChild(a); URL.revokeObjectURL(url);},100);
        showInfo=previousShowInfo;
        document.getElementById('infoText').textContent=showInfo?'Info':'Hidden';
        tokenListContainer.style.display=showInfo?'block':'none';
        updateTokenListUI();
        statusMsg.textContent='Recording finished!'; recordTimer.textContent='Recording: 0 / 20 s';
        hideProgressSmooth(); recordBtn.disabled=false; renderBtn.disabled=false; connectBtn.disabled=false;
        startRecording._recording=false;
      };

      function cleanup(){
        try{ if(recorder && recorder.state==='recording') recorder.stop(); }catch(e){}
        showInfo=previousShowInfo;
        document.getElementById('infoText').textContent=showInfo?'Info':'Hidden';
        tokenListContainer.style.display=showInfo?'block':'none';
        updateTokenListUI();
        recordBtn.disabled=false; renderBtn.disabled=false; connectBtn.disabled=false;
        hideProgressSmooth(); recordTimer.textContent='Recording: 0 / 20 s';
        startRecording._recording=false;
      }
    }

    recordBtn.addEventListener('click',()=>startRecording(true));
  </script>
</body>
</html>

















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































